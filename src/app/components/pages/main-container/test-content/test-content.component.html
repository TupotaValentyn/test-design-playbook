<div class="test__content__container">

  <div class="main__image__container">
    <img [src]="currentSelectedModel.url" class="img" alt="current model" />
  </div>

  <div class="control__panel">
      <button class="btn__open__close_sidebar"
              mat-icon-button color="primary"
              matTooltip="Open-close sidebar"
              matTooltipPosition="above"
              (click)="openCloseSidebar()">
          <mat-icon aria-label="icon">code</mat-icon>
      </button>

      <button 
        mat-raised-button
        color="primary"
        class="btn__help"
        (click)="openHelpDialog()">Help</button>

      <div class="like__dislike__container">
        <button
          *ngIf="!currentSelectedModel.mark; else unset"
          mat-button 
          color="primary"
          (click)="selectModel()">LIKE</button>
        <ng-template #unset>
          <button
            mat-button
            color="accent"
            (click)="selectModel()">DISLIKE</button>
        </ng-template>
        <span
          *ngIf="currentSelectedModel.mark" 
          class="like__notification">You like it!</span>
      </div>

      <div class="progress__info">
        <p class="prorgess__info__text">
          <span class="text__bold">Total amount:</span> {{ models.length }}.
        </p>
        <p class="prorgess__info__text">
          <span class="text__bold">Ticked: </span>
          <span [class.warning__message]="countCheckedElements > maxCountCheckedElements"
                [class.text__bold]="countCheckedElements > maxCountCheckedElements">
            {{ countCheckedElements }}/{{ maxCountCheckedElements }}.
          </span>
        </p>
      </div>
      
      <button 
        mat-raised-button
        matTooltip="Finish test"
        matTooltipPosition="above"
        color="accent"
        class="btn__continue"
        (click)="moveToNextPage()"
        [disabled]="countCheckedElements !== 5" class="btn__continue">
        Continue
      </button>
  </div>

  <footer class="comments__contaner">
    <mat-tab-group>
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="comment__tab__icon">thumb_up</mat-icon>
          Positive
        </ng-template>
        <mat-form-field class="comment__field">
          <textarea matInput placeholder="Leave positive comment about this image" #comment class="comment__field__text"
            [(ngModel)]="currentSelectedModel.good_comment" (blur)="saveCommentGood($event)">
            </textarea>
        </mat-form-field>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="comment__tab__icon">thumb_down</mat-icon>
          Negative
        </ng-template>
        <mat-form-field class="comment__field">
          <textarea matInput placeholder="Leave negative comment about this image" #comment class="comment__field__text"
            [(ngModel)]="currentSelectedModel.bad_comment" (blur)="saveCommentBad($event)">
            </textarea>
        </mat-form-field>
      </mat-tab>
    </mat-tab-group>
  </footer>

</div>